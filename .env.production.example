# Production Environment Configuration
# Copy this file to .env.production and fill in the values

# =============================================================================
# Application
# =============================================================================
NODE_ENV=production
PORT=3000
APP_URL=https://your-domain.com

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string for Prisma
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public&connection_limit=10&pool_timeout=20
DATABASE_URL="postgresql://clavier:YOUR_PASSWORD@postgres:5432/clavier?schema=public&connection_limit=10&pool_timeout=20"

# Direct connection URL (for migrations)
DIRECT_URL="postgresql://clavier:YOUR_PASSWORD@postgres:5432/clavier?schema=public"

# Database credentials (for docker-compose)
POSTGRES_USER=clavier
POSTGRES_PASSWORD=YOUR_STRONG_PASSWORD_HERE
POSTGRES_DB=clavier
POSTGRES_PORT=5432

# =============================================================================
# Authentication (NextAuth.js)
# =============================================================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=YOUR_NEXTAUTH_SECRET_HERE
NEXTAUTH_URL=https://your-domain.com

# =============================================================================
# AI Services
# =============================================================================
# Anthropic Claude API (Required)
ANTHROPIC_API_KEY=sk-ant-api03-YOUR_KEY_HERE

# =============================================================================
# Text-to-Speech Providers (Choose at least one)
# =============================================================================
# Google Cloud TTS
GOOGLE_TTS_API_KEY=YOUR_GOOGLE_API_KEY_HERE

# Azure Cognitive Services TTS
AZURE_TTS_KEY=YOUR_AZURE_KEY_HERE
AZURE_TTS_REGION=eastus

# ElevenLabs (Optional)
ELEVENLABS_API_KEY=YOUR_ELEVENLABS_KEY_HERE

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_ANALYTICS=true
ENABLE_ERROR_TRACKING=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true

# =============================================================================
# Redis Cache (Optional)
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_PORT=6379

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Sentry (Optional)
SENTRY_DSN=YOUR_SENTRY_DSN_HERE
SENTRY_ENVIRONMENT=production

# LogRocket (Optional)
LOGROCKET_APP_ID=YOUR_LOGROCKET_ID

# =============================================================================
# Security
# =============================================================================
# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# API rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900000

# Session configuration
SESSION_MAX_AGE=2592000

# =============================================================================
# Performance
# =============================================================================
# Next.js configuration
NEXT_TELEMETRY_DISABLED=1

# Build optimization
ANALYZE_BUNDLE=false

# =============================================================================
# Email (Optional - for notifications)
# =============================================================================
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=YOUR_EMAIL_PASSWORD
SMTP_FROM=noreply@your-domain.com

# =============================================================================
# Storage (Optional - for user uploads)
# =============================================================================
# AWS S3
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=clavier-uploads

# Or use Cloudflare R2
# R2_ACCOUNT_ID=YOUR_R2_ACCOUNT_ID
# R2_ACCESS_KEY_ID=YOUR_R2_ACCESS_KEY
# R2_SECRET_ACCESS_KEY=YOUR_R2_SECRET_KEY
# R2_BUCKET_NAME=clavier-uploads

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
